import{_ as e,c as t,a2 as p,o as r}from"./chunks/framework.CehHI-68.js";const i="/payment/alipay/1.png",o="/payment/alipay/2.png",l="/payment/alipay/3.png",n="/payment/alipay/4.png",c="/payment/alipay/5.png",h="/payment/alipay/6.png",s="/payment/alipay/7.png",y="/payment/alipay/8.png",d="/payment/alipay/10.png",m="/payment/alipay/11.png",b="/payment/paypal/1.png",u="/payment/paypal/2.png",f="/payment/paypal/3.png",_="/payment/paypal/4.png",D=JSON.parse('{"title":"支付驱动","description":"","frontmatter":{},"headers":[],"relativePath":"guide/payment.md","filePath":"zh/guide/payment.md","lastUpdated":1757128899000}'),g={name:"guide/payment.md"};function k(q,a,P,x,w,W){return r(),t("div",null,a[0]||(a[0]=[p('<h1 id="payment" tabindex="-1">支付驱动 <a class="header-anchor" href="#payment" aria-label="Permalink to &quot;支付驱动 {#payment}&quot;">​</a></h1><p>兰空图床当前仅支持官方<a href="https://open.alipay.com/api/detail?code=I1080300001000041203&amp;index=0" target="_blank" rel="noreferrer">支付宝电脑网站支付</a>、<a href="https://pay.wechatpay.cn/wiki/doc/apiv3_partner/open/pay/chapter2_7_0.shtml" target="_blank" rel="noreferrer">微信 Native 支付</a>，<a href="https://paypal.com" target="_blank" rel="noreferrer">PayPal</a>，并且支付宝仅支持证书模式、微信仅支持 V3 版本。</p><h2 id="alipay" tabindex="-1">支付宝 <a class="header-anchor" href="#alipay" aria-label="Permalink to &quot;支付宝 {#alipay}&quot;">​</a></h2><h3 id="alipay-create-payment-app" tabindex="-1">创建支付应用 <a class="header-anchor" href="#alipay-create-payment-app" aria-label="Permalink to &quot;创建支付应用 {#alipay-create-payment-app}&quot;">​</a></h3><p>前往开发者中心，点击 <a href="https://open.alipay.com/develop/pm/create" target="_blank" rel="noreferrer">https://open.alipay.com/develop/pm/create</a> 创建网页移动应用。</p><p><img src="'+i+'" alt="创建应用"></p><h3 id="alipay-bind-product" tabindex="-1">绑定支付宝支付产品 <a class="header-anchor" href="#alipay-bind-product" aria-label="Permalink to &quot;绑定支付宝支付产品 {#alipay-bind-product}&quot;">​</a></h3><p>创建好应用后进入应用，点击「产品绑定」，选择「支付」-&gt; 「电脑网站支付」</p><p><img src="'+o+'" alt="绑定支付"></p><h3 id="alipay-open-website-pay" tabindex="-1">开通电脑网站支付 <a class="header-anchor" href="#alipay-open-website-pay" aria-label="Permalink to &quot;开通电脑网站支付 {#alipay-open-website-pay}&quot;">​</a></h3><p>绑定完成后，如果显示「产品开通状态」显示为「未开通」则需要根据支付宝的指引去开通，否则支付功能无法使用。</p><p><img src="'+l+'" alt="开通支付"></p><h3 id="alipay-set-encrypt-method" tabindex="-1">设置加签方式 <a class="header-anchor" href="#alipay-set-encrypt-method" aria-label="Permalink to &quot;设置加签方式 {#alipay-set-encrypt-method}&quot;">​</a></h3><p><img src="'+n+'" alt="设置加签方式"><img src="'+c+'" alt="选择加签方式"></p><p>加签方式选择第二项「证书」</p><h3 id="alipay-certificate-software" tabindex="-1">下载证书生成软件 <a class="header-anchor" href="#alipay-certificate-software" aria-label="Permalink to &quot;下载证书生成软件 {#alipay-certificate-software}&quot;">​</a></h3><p><img src="'+h+'" alt="下载证书生成工具"></p><h3 id="alipay-generate-certificate" tabindex="-1">生成证书并上传 <a class="header-anchor" href="#alipay-generate-certificate" aria-label="Permalink to &quot;生成证书并上传 {#alipay-generate-certificate}&quot;">​</a></h3><p><img src="'+s+'" alt="生成证书并上传"></p><h3 id="alipay-download-certificate" tabindex="-1">下载证书 <a class="header-anchor" href="#alipay-download-certificate" aria-label="Permalink to &quot;下载证书 {#alipay-download-certificate}&quot;">​</a></h3><p>上传成功后，将证书全部下载。</p><p><img src="'+y+'" alt="下载证书"></p><h3 id="alipay-callback-url" tabindex="-1">设置回调地址 <a class="header-anchor" href="#alipay-callback-url" aria-label="Permalink to &quot;设置回调地址 {#alipay-callback-url}&quot;">​</a></h3><p>回调地址固定为 站点域名 + <code>payment/callback</code>，假设站点域名为 <code>http://example.com</code>，即：<code>http://example.com/payment/callback</code> 将其填入支付宝的授权回调地址中。</p><p><img src="'+d+'" alt="填写授权回调地址"></p><h3 id="alipay-upload-certificate" tabindex="-1">上传证书 <a class="header-anchor" href="#alipay-upload-certificate" aria-label="Permalink to &quot;上传证书 {#alipay-upload-certificate}&quot;">​</a></h3><p>然后打开刚刚由证书生成软件生成的证书目录，复制 <code>应用私钥RSA2048-敏感数据，请妥善保管.txt</code> 文件内容，将其填写到兰空图床后台配置中，并上传三份证书文件。</p><p><img src="'+m+'" alt="上传证书"></p><p>上传完成后点击保存即可。</p><h2 id="wechat" tabindex="-1">微信 <a class="header-anchor" href="#wechat" aria-label="Permalink to &quot;微信 {#wechat}&quot;">​</a></h2><p>todo</p><h2 id="paypal" tabindex="-1">PayPal <a class="header-anchor" href="#paypal" aria-label="Permalink to &quot;PayPal {#paypal}&quot;">​</a></h2><h3 id="paypal-create-application" tabindex="-1">创建应用 <a class="header-anchor" href="#paypal-create-application" aria-label="Permalink to &quot;创建应用 {#paypal-create-application}&quot;">​</a></h3><p>进入开发者中心，点击 Create App 来创建一个应用，注意，文档图片中处于沙盒环境。</p><p><img src="'+b+'" alt="创建应用"></p><p>Type 选择 Merchant</p><p><img src="'+u+'" alt="创建应用"></p><p>点击 Create App 确认创建。</p><h3 id="paypal-configuration" tabindex="-1">配置 <a class="header-anchor" href="#paypal-configuration" aria-label="Permalink to &quot;配置 {#paypal-configuration}&quot;">​</a></h3><p><img src="'+f+'" alt="配置"></p><h3 id="paypal-webhook" tabindex="-1">Webhook <a class="header-anchor" href="#paypal-webhook" aria-label="Permalink to &quot;Webhook {#paypal-webhook}&quot;">​</a></h3><p>同样的，PayPal 我们也需要配置回调，即 Webhook。我们点击进应用详情，滚动到最底部，找到 Webhook 那一栏，创建一个 Webhook。</p><p><img src="'+_+'" alt="Webhook"></p><p>创建成功后我们会在列表看到 Webhook ID。</p><p>将应用的 Client ID 和 Secret key 以及 WebHook ID 填入兰空图片后台支付配置中既可。</p>',45)]))}const I=e(g,[["render",k]]);export{D as __pageData,I as default};

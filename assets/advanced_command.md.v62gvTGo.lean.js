import{_ as s,c as i,a2 as e,o as t}from"./chunks/framework.CehHI-68.js";const k=JSON.parse('{"title":"常用命令","description":"","frontmatter":{},"headers":[],"relativePath":"advanced/command.md","filePath":"zh/advanced/command.md","lastUpdated":1757387148000}'),n={name:"advanced/command.md"};function h(l,a,p,d,r,o){return t(),i("div",null,a[0]||(a[0]=[e('<h1 id="command" tabindex="-1">常用命令 <a class="header-anchor" href="#command" aria-label="Permalink to &quot;常用命令 {#command}&quot;">​</a></h1><p>此页面列出一些常用的辅助命令，您也可以通过终端进入程序根目录运行 <code>php artisan</code> 来查看所有命令。</p><h2 id="reset-user-password" tabindex="-1">重置用户密码（包括管理员） <a class="header-anchor" href="#reset-user-password" aria-label="Permalink to &quot;重置用户密码（包括管理员） {#reset-user-password}&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">php</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> artisan</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> app:reset-user-password</span></span></code></pre></div><h2 id="gen-thumbnails" tabindex="-1">为所有系统中所有图片生成缩略图 <a class="header-anchor" href="#gen-thumbnails" aria-label="Permalink to &quot;为所有系统中所有图片生成缩略图 {#gen-thumbnails}&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">php</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> artisan</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> app:thumbnail</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">注意</p><p>图片所属的储存未开启缩略图功能的图片会被跳过。</p></div><h2 id="cache-admin-icon" tabindex="-1">缓存后台管理图标资源，优化后台访问速度 <a class="header-anchor" href="#cache-admin-icon" aria-label="Permalink to &quot;缓存后台管理图标资源，优化后台访问速度 {#cache-admin-icon}&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">php</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> artisan</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> filament:optimize</span></span></code></pre></div><h2 id="query-queue-failed" tabindex="-1">查看系统所有执行失败的队列消息 <a class="header-anchor" href="#query-queue-failed" aria-label="Permalink to &quot;查看系统所有执行失败的队列消息 {#query-queue-failed}&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">php</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> artisan</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> queue:failed</span></span></code></pre></div><h2 id="clean-queue" tabindex="-1">清除系统所有执行失败的队列消息 <a class="header-anchor" href="#clean-queue" aria-label="Permalink to &quot;清除系统所有执行失败的队列消息 {#clean-queue}&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">php</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> artisan</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> queue:flush</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">警告</p><p>系统内可能存在物理图片删除失败的队列，造成原因有很多，包括但不限于储存服务器验证失败、储存策略被意外删等意外情况。删除图片的流程是删除记录(软删除)-&gt;推送删除物理图片队列-&gt;删除物理图片。 若物理图片删除失败，<strong>不会</strong>回滚恢复图片记录，这意味着若队列被清除，则未被成功删除的物理图片，需要人工手动去对应储存中删除。</p></div><h2 id="retry-queue" tabindex="-1">重试所有执行失败的队列消息 <a class="header-anchor" href="#retry-queue" aria-label="Permalink to &quot;重试所有执行失败的队列消息 {#retry-queue}&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">php</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> artisan</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> queue:retry</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 队列ID</span></span></code></pre></div><h2 id="gen-symlink" tabindex="-1">生成系统内置储存的符号链接 <a class="header-anchor" href="#gen-symlink" aria-label="Permalink to &quot;生成系统内置储存的符号链接 {#gen-symlink}&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">php</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> artisan</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> storage:link</span></span></code></pre></div><h2 id="remove-symlink" tabindex="-1">取消系统内置储存的符号链接 <a class="header-anchor" href="#remove-symlink" aria-label="Permalink to &quot;取消系统内置储存的符号链接 {#remove-symlink}&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">php</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> artisan</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> storage:unlink</span></span></code></pre></div><h2 id="gen-app-symlink" tabindex="-1">重新生成程序所需要的符号链接 <a class="header-anchor" href="#gen-app-symlink" aria-label="Permalink to &quot;重新生成程序所需要的符号链接 {#gen-app-symlink}&quot;">​</a></h2><p>此命令会重新建立系统中所有符合条件的储存、主题所需要的符号链接。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">php</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> artisan</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> symlinks:rebuild</span></span></code></pre></div>',23)]))}const u=s(n,[["render",h]]);export{k as __pageData,u as default};

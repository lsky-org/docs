import{_ as e,c as t,a2 as i,o as s}from"./chunks/framework.CehHI-68.js";const u=JSON.parse('{"title":"常见问题","description":"","frontmatter":{},"headers":[],"relativePath":"guide/faq.md","filePath":"zh/guide/faq.md","lastUpdated":1757485902000}'),r={name:"guide/faq.md"};function o(n,a,p,l,d,h){return s(),t("div",null,a[0]||(a[0]=[i(`<h1 id="faqs" tabindex="-1">常见问题 <a class="header-anchor" href="#faqs" aria-label="Permalink to &quot;常见问题 {#faqs}&quot;">​</a></h1><p>程序为了避免在生产环境出现敏感信息，当出现错误时，仅会记录日志信息，页面以一种简短的 “500 错误”、“服务器错误” 提示呈现给用户。</p><p>大部分错误都可以在日志中找到原因，日志文件所在位置：<code>storage/logs</code>，docker 环境中日志所在位置：<code>/app/storage/logs</code>。</p><p>日志是按照日期进行轮换的，默认最多保存 14 天的日志信息。</p><p>如果您想要在运行过程中发生错误时，显示更多、更详细的错误信息，您可以通过编辑程序根目录中的 <code>.env</code> 文件，将 <code>APP_DEBUG</code>、<code>DEBUGBAR_ENABLED</code> 的值改为 <code>true</code>，这样的话程序将以 debug 模式运行，可以观察到详细的错误和运行情况。</p><div class="danger custom-block"><p class="custom-block-title">警告</p><ul><li>请不要在生产环境打开 <code>debug</code>，否则站点显示出来的一些敏感信息可能使不怀好意的人利用，破坏系统的稳定性。</li><li>打开 <code>debug</code> 后，因为绕过了缓存、收集系统信息等流程，这导致程序的运行效率通常会更缓慢，所以在调试结束后，请不要忘记关闭 <code>debug</code>。</li></ul></div><p>这里记录并解释一些常见的问题。</p><h2 id="website-404-after-configuration" tabindex="-1">为什么配置完了以后，访问站点显示 404？ <a class="header-anchor" href="#website-404-after-configuration" aria-label="Permalink to &quot;为什么配置完了以后，访问站点显示 404？ {#website-404-after-configuration}&quot;">​</a></h2><p>请检查伪静态、站点运行目录是否设置正确，如果确认正确请尝试重启。</p><h2 id="upload-non-image-formats-mp4" tabindex="-1">能不能上传图片以外格式的文件，例如 mp4？ <a class="header-anchor" href="#upload-non-image-formats-mp4" aria-label="Permalink to &quot;能不能上传图片以外格式的文件，例如 mp4？ {#upload-non-image-formats-mp4}&quot;">​</a></h2><p>不可以，程序定位就是管理图片，未做任何图片以外格式的文件支持。</p><h2 id="no-direct-client-transmission-support" tabindex="-1">为什么不支持客户端直传 <a class="header-anchor" href="#no-direct-client-transmission-support" aria-label="Permalink to &quot;为什么不支持客户端直传 {#no-direct-client-transmission-support}&quot;">​</a></h2><p>其一，由于第三方储存的多样性，有些第三方储存通过客户端直传后程序拿不到需要的数据，其二，图片本身就不是非常大的文件。</p><h2 id="duplicate-image-upload-bug-or-feature" tabindex="-1">我多次上传了相同的图片，图片管理中也出现了图片，这是 bug 还是 feature? <a class="header-anchor" href="#duplicate-image-upload-bug-or-feature" aria-label="Permalink to &quot;我多次上传了相同的图片，图片管理中也出现了图片，这是 bug 还是 feature? {#duplicate-image-upload-bug-or-feature}&quot;">​</a></h2><p>是 feature，在同一个储存策略下，上传相同的图片，程序不会重复的写入文件，但会创建文件记录，多条记录指向同一个物理文件。</p><h2 id="copy-image-failed" tabindex="-1">我的图片中，「复制图片」出错，显示 复制失败 <a class="header-anchor" href="#copy-image-failed" aria-label="Permalink to &quot;我的图片中，「复制图片」出错，显示 复制失败 {#copy-image-failed}&quot;">​</a></h2><p>这与浏览器限制有关，跨域问题或站点必须以 https 的方式访问。了解更多 <a href="https://w3c.github.io/clipboard-apis/#dom-navigator-clipboard" target="_blank" rel="noreferrer">https://w3c.github.io/clipboard-apis/#dom-navigator-clipboard</a></p><h2 id="style-issues-buttons-not-working-after-update" tabindex="-1">更新后出现样式异常、按钮不起作用？ <a class="header-anchor" href="#style-issues-buttons-not-working-after-update" aria-label="Permalink to &quot;更新后出现样式异常、按钮不起作用？ {#style-issues-buttons-not-working-after-update}&quot;">​</a></h2><p>如果你使用了 cdn，请检查是否未刷新 cdn 的缓存。</p><h2 id="upload-failed-try-again" tabindex="-1">上传出现失败，请稍后重试？ <a class="header-anchor" href="#upload-failed-try-again" aria-label="Permalink to &quot;上传出现失败，请稍后重试？ {#upload-failed-try-again}&quot;">​</a></h2><p>上传失败有很多原因，比如配置错误、文件较大返回 423 Request Entity Too Large 等等，出现错误通常情况下可以在 <code>storage/logs</code> 文件夹下找到错误日志，如果没有则表示错误并不是发生在程序中，而是其他原因。</p><h2 id="https-reverse-proxy-static-links-http" tabindex="-1">使用反向代理并且域名使用了 https 的情况下，程序请求静态资源、生成的链接却是 http ？ <a class="header-anchor" href="#https-reverse-proxy-static-links-http" aria-label="Permalink to &quot;使用反向代理并且域名使用了 https 的情况下，程序请求静态资源、生成的链接却是 http ？ {#https-reverse-proxy-static-links-http}&quot;">​</a></h2><p>这种情况通常是因为你的程序正在从 80 端口进行转发流量，详细解释和解决方法：<a href="https://laravel.com/docs/9.x/requests#configuring-trusted-proxies" target="_blank" rel="noreferrer">https://laravel.com/docs/9.x/requests#configuring-trusted-proxies</a> 请尝试增加反向代理配置：</p><div class="language-nginx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">proxy_http_version </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Host $http_host;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Scheme $scheme;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">X-Forwarded-Proto $scheme;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">X-Forwarded-For $proxy_add_x_forwarded_for;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Upgrade $http_upgrade;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Connection $connection_upgrade;</span></span></code></pre></div><h2 id="support-custom-storage" tabindex="-1">能不能支持 xxxx 、xxxx 储存？ <a class="header-anchor" href="#support-custom-storage" aria-label="Permalink to &quot;能不能支持 xxxx 、xxxx 储存？ {#support-custom-storage}&quot;">​</a></h2><p>市面上各种厂家的产品层出不穷，兰空图床只会对主流的、具备相应接口的产品作适配，兰空图床的储存是由 <a href="https://flysystem.thephpleague.com/" target="_blank" rel="noreferrer">flysystem</a> 实现，欢迎你提交 PR！</p><h2 id="activation-link-403-invalid-signature" tabindex="-1">激活邮件中的激活链接，访问显示 403 INVALID SIGNATURE？ <a class="header-anchor" href="#activation-link-403-invalid-signature" aria-label="Permalink to &quot;激活邮件中的激活链接，访问显示 403 INVALID SIGNATURE？ {#activation-link-403-invalid-signature}&quot;">​</a></h2><p>请检查 nginx 伪静态是否配置正确。</p><h2 id="third-party-login-failed-after-deployment" tabindex="-1">分离部署后，第三方授权登录失败？ <a class="header-anchor" href="#third-party-login-failed-after-deployment" aria-label="Permalink to &quot;分离部署后，第三方授权登录失败？ {#third-party-login-failed-after-deployment}&quot;">​</a></h2><p>大概率是回调地址错误导致失败，创建第三方登录驱动时，系统会自动识别回调地址并显示，请检查该地址是否为当前系统前端部署所绑定的域名，若不是，则需要自行修改回调地址然后保存生效。</p>`,30)]))}const g=e(r,[["render",o]]);export{u as __pageData,g as default};
